{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/SearchBar.module.css","components/QuantityPerPage/QuantityPerPage.jsx","components/Searchbar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","Service/pixabay-api.js","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/App.js","index.js"],"names":["module","exports","QuantityPerPage","onChange","useState","value","setValue","useEffect","className","name","id","e","target","SearchBar","onChangeQuantity","onSubmitForm","query","setQuery","s","Searchbar","SearchForm","onSubmit","preventDefault","handleSubmitForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","ImageGalleryItem","previewUrl","imageUrl","onClickImage","onClick","src","alt","imageImageGalleryItem","data-url","width","ImageGallery","galleryPhotos","onOpenModal","map","largeImageURL","webformatURL","axios","defaults","baseURL","galleryApi","API_KEY","fetchGallery","pageNumber","quantity","get","this","then","data","hits","result","Button","onLoadMore","modalRoot","document","querySelector","Modal","onCloseModal","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","currentTarget","handleBackDropClick","ModalButtonWrapper","color","size","App","isLoading","loaderContainer","visible","height","timeout","gallery","setGallery","page","setPage","searchQuery","setSearchQuery","showModal","setShowModal","modalImageUrl","setModalImageUrl","setIsLoading","setQuantity","scrollToNextPage","toggleModal","pixabayApi","images","finally","scrollTo","top","documentElement","scrollHeight","behavior","url","dataset","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2939f33f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1_z2p\",\"imageImageGalleryItem\":\"ImageGalleryItem_imageImageGalleryItem__pDd8H\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3iOVR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2GXoW\",\"Modal\":\"Modal_Modal__1N48y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__39bYB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1BfNJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__2APkm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3-GJC\",\"SearchForm\":\"SearchBar_SearchForm__3mdVB\",\"SearchForm_button\":\"SearchBar_SearchForm_button__PPRfh\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__37UEm\",\"SearchForm_input\":\"SearchBar_SearchForm_input__3lrXy\"};","import { useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\n\nexport default function QuantityPerPage({ onChange }) {\n  const [value, setValue] = useState(8);\n\n  useEffect(() => {\n    onChange(value);\n  }, [onChange, value]);\n\n  // onChangeValue = e => {\n  //   const value = e.target.value;\n  //   this.setState({ value: value });\n  // };\n\n  return (\n    <select\n      className=\"QuantitySelect\"\n      value={value}\n      name=\"quantity\"\n      id=\"quantity\"\n      onChange={e => setValue(e.target.value)}\n    >\n      <option value=\"4\" name=\"quantity\">\n        4\n      </option>\n      <option value=\"8\" name=\"quantity\">\n        8\n      </option>\n      <option value=\"12\" name=\"quantity\">\n        12\n      </option>\n      <option value=\"20\" name=\"quantity\">\n        20\n      </option>\n    </select>\n  );\n}\n\nQuantityPerPage.propTypes = {\n  onChange: propTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport propTypes from 'prop-types';\nimport QuantityPerPage from '../QuantityPerPage';\nimport s from './SearchBar.module.css';\n\nexport default function SearchBar({ onChangeQuantity, onSubmitForm }) {\n  const [query, setQuery] = useState('');\n\n  const handleSubmitForm = e => {\n    e.preventDefault();\n\n    if (!query) return;\n    onSubmitForm(query);\n    setQuery('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={e => handleSubmitForm(e)}>\n        <button type=\"submit\" className={s.SearchForm_button}>\n          <span className={s.SearchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm_input}\n          type=\"text\"\n          autoComplete=\"off\"\n          value={query}\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={e => setQuery(e.target.value)}\n        />\n      </form>\n      <QuantityPerPage onChange={onChangeQuantity} />\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmitForm: propTypes.func.isRequired,\n  onChangeQuantity: propTypes.func.isRequired,\n};\n","import propTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  previewUrl,\n  imageUrl,\n  onClickImage,\n}) {\n  return (\n    <li className={s.ImageGalleryItem} onClick={e => onClickImage(e)}>\n      <img\n        src={previewUrl}\n        alt=\"\"\n        className={s.imageImageGalleryItem}\n        data-url={imageUrl}\n        width=\"150\"\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  previewUrl: propTypes.string,\n  imageUrl: propTypes.string,\n  onClickImage: propTypes.func,\n};\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport propTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ galleryPhotos, onOpenModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {galleryPhotos.map(({ id, largeImageURL, webformatURL }) => (\n        <ImageGalleryItem\n          key={id}\n          previewUrl={webformatURL}\n          imageUrl={largeImageURL}\n          onClickImage={onOpenModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  onOpenModal: propTypes.func,\n  galleryPhotos: propTypes.arrayOf(\n    propTypes.exact({\n      id: propTypes.number,\n      webformatURL: propTypes.string,\n      largeImageURL: propTypes.string,\n    }),\n  ),\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst galleryApi = {\n  API_KEY: '18570848-b4ac6f1815e8e933245c4f233',\n\n  fetchGallery(query = '', pageNumber = 1, quantity = 4) {\n    return axios\n      .get(\n        `/?q=${query}&page=${pageNumber}&key=${this.API_KEY}&image_type=photo&orientation=horizontal&per_page=${quantity}`,\n      )\n      .then(({ data }) => data.hits)\n      .then(result =>\n        result.map(({ id, largeImageURL, webformatURL }) => ({\n          id,\n          largeImageURL,\n          webformatURL,\n        })),\n      );\n  },\n};\n\nexport default galleryApi;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={() => onLoadMore()}>\n      load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: propTypes.func,\n};\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onCloseModal, imageUrl }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onCloseModal();\n    }\n  };\n\n  const handleBackDropClick = e => {\n    if (e.currentTarget === e.target) {\n      onCloseModal();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={e => handleBackDropClick(e)}>\n      <div className={Modal}>\n        <div className={s.ModalButtonWrapper} onClick={() => onCloseModal()}>\n          <AiOutlineCloseCircle color=\"white\" size=\"25px\" />\n        </div>\n        <img src={imageUrl} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nexport default function App({ isLoading }) {\n  return (\n    <div className={s.loaderContainer}>\n      <Loader\n        visible={isLoading}\n        type=\"BallTriangle\"\n        color=\"#00BFFF\"\n        height={50}\n        width={50}\n        timeout={0}\n      />\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nimport SearchBar from './Searchbar/';\nimport ImageGallery from './ImageGallery';\nimport pixabayApi from '../Service/pixabay-api.js';\nimport Button from './Button/';\nimport Modal from './Modal';\nimport Loader from './Loader';\n\nexport default function App() {\n  const [gallery, setGallery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [modalImageUrl, setModalImageUrl] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [quantity, setQuantity] = useState(8);\n\n  useEffect(() => {\n    if (searchQuery) {\n      fetchGallery();\n    }\n  }, [searchQuery, quantity]);\n\n  useEffect(() => {\n    scrollToNextPage();\n  });\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const fetchGallery = () => {\n    setIsLoading(isLoading => !isLoading);\n\n    pixabayApi\n      .fetchGallery(searchQuery, page, quantity)\n      .then(images => {\n        setGallery(gallery => [...gallery, ...images]);\n        setPage(page => page + 1);\n      })\n      .finally(() => setIsLoading(isLoading => !isLoading));\n  };\n\n  // handleLoadMoreBtn = () => {\n  //   this.fetchGallery();\n\n  //   this.setState(({ page }) => ({\n  //     page: page + 1,\n  //   }));\n  // };\n\n  const handleOpenModal = e => {\n    const url = e.target.dataset.url;\n\n    toggleModal();\n    setModalImageUrl(url);\n  };\n\n  const onChangeQuery = query => {\n    setSearchQuery(query);\n    setGallery([]);\n    setPage(1);\n  };\n\n  const onChangeQuantity = value => setQuantity(value);\n\n  const scrollToNextPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  return (\n    <>\n      <SearchBar\n        onSubmitForm={onChangeQuery}\n        onChangeQuantity={onChangeQuantity}\n      />\n      <main>\n        <ImageGallery galleryPhotos={gallery} onOpenModal={handleOpenModal} />\n        <Loader isLoading={isLoading} />\n\n        {gallery.length > 0 && !isLoading && (\n          <Button onLoadMore={fetchGallery} />\n        )}\n\n        {showModal && (\n          <Modal imageUrl={modalImageUrl} onCloseModal={toggleModal} />\n        )}\n      </main>\n    </>\n  );\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}